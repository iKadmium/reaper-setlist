FROM gcr.io/distroless/static-debian12

# Set working directory
WORKDIR /app

# Copy CA certificates for HTTPS requests
COPY ca-certificates.crt /etc/ssl/certs/

# Copy the binary
COPY reaper_setlist_backend /app/reaper_setlist_backend

# Copy frontend assets
COPY assets/ /app/assets/

# Expose port
EXPOSE 3000

# Set the entrypoint
ENTRYPOINT ["/app/reaper_setlist_backend"]
