import{g as u,n as w}from"../chunks/BaaqWfM4.js";import{f,a as p,s as x}from"../chunks/Cyv9BU93.js";import{p as E,k as d,s as k,f as j,a as A,c as M,r as O,t as P}from"../chunks/CXoDX78y.js";import{i as g}from"../chunks/CshSjHoe.js";import{g as z}from"../chunks/BpJ_6HGD.js";import"../chunks/D08qE96i.js";import{S as F}from"../chunks/a7zn8pIk.js";const R=async({fetch:n,params:a})=>{try{const e=a.id,s=u(n),[i,l]=await Promise.all([s.sets.get(e),s.songs.list()]);return{set:i,songs:l}}catch(e){return{set:void 0,songs:{},error:e instanceof Error?e.message:"An unknown error occurred."}}},L=Object.freeze(Object.defineProperty({__proto__:null,load:R},Symbol.toStringTag,{value:"Module"}));var T=f('<p style="color: red;"> </p>'),q=f("<p>Set not found.</p>"),B=f("<meta:head><title>Edit Set - Reaper Setlist</title></meta:head> <h1>Edit Set</h1> <!>",1);function N(n,a){E(a,!0);let e=d(a.data.set),s=d(a.data.songs);const i=a.data.error,l=u();async function v(t){try{await l.sets.update(t.id,t),await z("#/")}catch(r){w.error(`Failed to update set: ${r.message}`)}}var m=B(),_=k(j(m),4);{var h=t=>{var r=T(),c=M(r,!0);O(r),P(()=>x(c,i)),p(t,r)},S=(t,r)=>{{var c=o=>{F(o,{get setlist(){return e},get songs(){return s},onSubmit:v})},y=o=>{var b=q();p(o,b)};g(t,o=>{e?o(c):o(y,!1)},r)}};g(_,t=>{i?t(h):t(S,!1)})}p(n,m),A()}export{N as component,L as universal};
