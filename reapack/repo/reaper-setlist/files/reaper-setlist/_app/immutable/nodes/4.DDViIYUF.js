import{g as u,n as w}from"../chunks/_ZxBKxY3.js";import{f,a as p,s as x}from"../chunks/Du2ossJl.js";import{p as E,k as d,s as k,f as j,a as A,c as M,r as O,t as P}from"../chunks/Cl0Xhb8i.js";import{i as g}from"../chunks/D9aH2qsm.js";import{g as z}from"../chunks/Dca2Jo3Q.js";import{S as F}from"../chunks/DhRQ2uMr.js";const R=async({fetch:n,params:a})=>{try{const e=a.id,o=u(n),[i,l]=await Promise.all([o.sets.get(e),o.songs.list()]);return{set:i,songs:l}}catch(e){return{set:void 0,songs:{},error:e instanceof Error?e.message:"An unknown error occurred."}}},K=Object.freeze(Object.defineProperty({__proto__:null,load:R},Symbol.toStringTag,{value:"Module"}));var T=f('<p style="color: red;"> </p>'),q=f("<p>Set not found.</p>"),B=f("<meta:head><title>Edit Set - Reaper Setlist</title></meta:head> <h1>Edit Set</h1> <!>",1);function L(n,a){E(a,!0);let e=d(a.data.set),o=d(a.data.songs);const i=a.data.error,l=u();async function v(t){try{await l.sets.update(t.id,t),await z("#/")}catch(r){w.error(`Failed to update set: ${r.message}`)}}var m=B(),_=k(j(m),4);{var h=t=>{var r=T(),c=M(r,!0);O(r),P(()=>x(c,i)),p(t,r)},S=(t,r)=>{{var c=s=>{F(s,{get setlist(){return e},get songs(){return o},onSubmit:v})},y=s=>{var b=q();p(s,b)};g(t,s=>{e?s(c):s(y,!1)},r)}};g(_,t=>{i?t(h):t(S,!1)})}p(n,m),A()}export{L as component,K as universal};
